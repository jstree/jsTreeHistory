<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>DWR DEMO</title>
<meta http-equiv="pragma" content="no-cache">
<meta http-equiv="cache-control" content="no-cache">
<meta http-equiv="expires" content="0">
<meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
<meta http-equiv="description" content="This is my page">
</head>
<script type='text/javascript' src='/js/egovframework/com/ext/jstree/jquery-1.12.4/dist/jquery.js'></script>
<script type='text/javascript' src='/dwr/engine.js'></script>
<script type='text/javascript' src='/dwr/util.js'></script>
<script type="text/javascript" src="/dwr/interface/pushMsg.js"></script>
<script type="text/javascript" src="/dwr/interface/sendMsg.js"></script>
<script type="text/javascript">
  $(function() {
    console.log("document.URL : " + document.URL);
    console.log("document.location.href : " + document.location.href);
    console.log("document.location.origin : " + document.location.origin);
    console.log("document.location.hostname : " + document.location.hostname);
    console.log("document.location.host : " + document.location.host);
    console.log("document.location.pathname : " + document.location.pathname);

    dwr.engine._pathToDwrServlet = document.location.origin + '/dwr';

    
    pushMsg.onPageLoad("rivalWar");
    dwr.engine.setActiveReverseAjax(true);
    dwr.engine.setNotifyServerOnPageUnload(true);
    dwr.engine.setErrorHandler(function() {
      alert('DWR Error');
    });

  })
  function showMessage(autoMessage) {
    alert(autoMessage);
  }
  function onPageLoad(userId) {
    pushMsg.onPageLoad(userId);
  }
  function send() {
    var msg = $('#msg').val();
    sendMsg.sendMessageAuto("rivalWar", msg);
  }
</script>
<body>
	This is my DWR DEOM page.
	<input type="text" id="msg">
	<input type="button" value="send" onclick="send()">
	<br>

	<div id="demo"></div>
</body>
</html>